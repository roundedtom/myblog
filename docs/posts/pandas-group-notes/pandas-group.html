<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Tom">
<meta name="dcterms.date" content="2023-12-23">

<title>RoundedTom - Pandas groupby</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">RoundedTom</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com" rel="" target=""><i class="bi bi-twitter" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Pandas groupby</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">数据分析</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Tom </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">December 23, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>dtypes <span class="op">=</span> {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">'first_name'</span>: <span class="st">'category'</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'gender'</span>: <span class="st">'category'</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">'type'</span>: <span class="st">'category'</span>,</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">'state'</span>: <span class="st">'category'</span>,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'party'</span>: <span class="st">'category'</span>,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'./data/legislators-historical.csv'</span>,</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>                 dtype<span class="op">=</span>dtypes, </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>                 usecols<span class="op">=</span><span class="bu">list</span>(dtypes) <span class="op">+</span> [<span class="st">'birthday'</span>, <span class="st">'last_name'</span>],</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>                 parse_dates<span class="op">=</span>[<span class="st">'birthday'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">last_name</th>
<th data-quarto-table-cell-role="th">first_name</th>
<th data-quarto-table-cell-role="th">birthday</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">party</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Bassett</td>
<td>Richard</td>
<td>1745-04-02</td>
<td>M</td>
<td>sen</td>
<td>DE</td>
<td>Anti-Administration</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Bland</td>
<td>Theodorick</td>
<td>1742-03-21</td>
<td>M</td>
<td>rep</td>
<td>VA</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Burke</td>
<td>Aedanus</td>
<td>1743-06-16</td>
<td>M</td>
<td>rep</td>
<td>SC</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Carroll</td>
<td>Daniel</td>
<td>1730-07-22</td>
<td>M</td>
<td>rep</td>
<td>MD</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Clymer</td>
<td>George</td>
<td>1739-03-16</td>
<td>M</td>
<td>rep</td>
<td>PA</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11970</td>
<td>Garrett</td>
<td>Thomas</td>
<td>1972-03-27</td>
<td>M</td>
<td>rep</td>
<td>VA</td>
<td>Republican</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11971</td>
<td>Handel</td>
<td>Karen</td>
<td>1962-04-18</td>
<td>F</td>
<td>rep</td>
<td>GA</td>
<td>Republican</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11972</td>
<td>Jones</td>
<td>Brenda</td>
<td>1959-10-24</td>
<td>F</td>
<td>rep</td>
<td>MI</td>
<td>Democrat</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11973</td>
<td>Marino</td>
<td>Tom</td>
<td>1952-08-15</td>
<td>M</td>
<td>rep</td>
<td>PA</td>
<td>Republican</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11974</td>
<td>Jones</td>
<td>Walter</td>
<td>1943-02-10</td>
<td>M</td>
<td>rep</td>
<td>NC</td>
<td>Republican</td>
</tr>
</tbody>
</table>

<p>11975 rows × 7 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>n_by_state <span class="op">=</span> df.groupby(<span class="st">'state'</span>)[<span class="st">'last_name'</span>].count()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>n_by_state</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>state
AK      16
AL     206
AR     117
AS       2
AZ      48
CA     361
CO      90
CT     240
DC       2
DE      97
DK       9
FL     155
GA     309
GU       4
HI      23
IA     202
ID      59
IL     486
IN     341
KS     141
KY     373
LA     197
MA     426
MD     305
ME     175
MI     294
MN     160
MO     333
MS     155
MT      52
NC     354
ND      44
NE     127
NH     181
NJ     359
NM      54
NV      56
NY    1461
OH     674
OK      92
OL       2
OR      89
PA    1053
PI      13
PR      19
RI     107
SC     251
SD      51
TN     299
TX     256
UT      53
VA     432
VI       4
VT     115
WA      95
WI     196
WV     120
WY      40
Name: last_name, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>df.groupby([<span class="st">'state'</span>, <span class="st">'gender'</span>])[<span class="st">'last_name'</span>].count()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<pre><code>state  gender
AK     F           0
       M          16
AL     F           3
       M         203
AR     F           5
                ... 
WI     M         196
WV     F           1
       M         119
WY     F           2
       M          38
Name: last_name, Length: 116, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df.groupby([<span class="st">'gender'</span>, <span class="st">'state'</span>])[<span class="st">'last_name'</span>].count()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>gender  state
F       AK         0
        AL         3
        AR         5
        AS         0
        AZ         3
                ... 
M       VT       115
        WA        90
        WI       196
        WV       119
        WY        38
Name: last_name, Length: 116, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>by_state <span class="op">=</span> df.groupby(<span class="st">'state'</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>by_state</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<pre><code>&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x7fb592b996d0&gt;</code></pre>
</div>
</div>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> state, frame <span class="kw">in</span> by_state:</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f'First2 entries for </span><span class="sc">{</span>state<span class="sc">!r}</span><span class="ss">'</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'----------------------'</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(frame.head(<span class="dv">2</span>), end<span class="op">=</span><span class="st">'</span><span class="ch">\n\n</span><span class="st">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>First2 entries for 'AK'
----------------------
     last_name first_name   birthday gender type state        party
6619    Waskey      Frank 1875-04-20      M  rep    AK     Democrat
6647      Cale     Thomas 1848-09-17      M  rep    AK  Independent

First2 entries for 'AL'
----------------------
    last_name first_name   birthday gender type state       party
912   Crowell       John 1780-09-18      M  rep    AL  Republican
991    Walker       John 1783-08-12      M  sen    AL  Republican

First2 entries for 'AR'
----------------------
     last_name first_name   birthday gender type state party
1001     Bates      James 1788-08-25      M  rep    AR   NaN
1279    Conway      Henry 1793-03-18      M  rep    AR   NaN

First2 entries for 'AS'
----------------------
          last_name first_name   birthday gender type state     party
10797         Sunia       Fofó 1937-03-13      M  rep    AS  Democrat
11755  Faleomavaega        Eni 1943-08-15      M  rep    AS  Democrat

First2 entries for 'AZ'
----------------------
     last_name first_name   birthday gender type state       party
3674    Poston    Charles 1825-04-20      M  rep    AZ  Republican
3725   Goodwin       John 1824-10-18      M  rep    AZ  Republican

First2 entries for 'CA'
----------------------
     last_name first_name   birthday gender type state        party
2650   Gilbert     Edward        NaT      M  rep    CA     Democrat
2742    Wright     George 1816-06-04      M  rep    CA  Independent

First2 entries for 'CO'
----------------------
     last_name first_name   birthday gender type state  \
3614    Bennet      Hiram 1826-09-02      M  rep    CO   
3933  Bradford      Allen 1815-07-23      M  rep    CO   

                        party  
3614  Conservative Republican  
3933               Republican  

First2 entries for 'CT'
----------------------
     last_name first_name   birthday gender type state               party
14  Huntington   Benjamin 1736-04-19      M  rep    CT                 NaN
16     Johnson    William 1727-10-07      M  sen    CT  Pro-Administration

First2 entries for 'DC'
----------------------
      last_name first_name   birthday gender type state       party
4232    Chipman     Norton 1834-03-07      M  rep    DC  Republican
10821  Fauntroy     Walter 1933-02-06      M  rep    DC    Democrat

First2 entries for 'DE'
----------------------
   last_name first_name   birthday gender type state                party
0    Bassett    Richard 1745-04-02      M  sen    DE  Anti-Administration
40      Read     George 1733-09-18      M  sen    DE                  NaN

First2 entries for 'DK'
----------------------
     last_name first_name   birthday gender type state     party
3642     Jayne    William 1826-10-08      M  rep    DK       NaN
3687      Todd       John 1814-04-04      M  rep    DK  Democrat

First2 entries for 'FL'
----------------------
      last_name first_name   birthday gender type state party
1031  Hernández     Joseph 1788-05-26      M  rep    FL   NaN
1090       Call    Richard 1792-10-24      M  rep    FL   NaN

First2 entries for 'GA'
----------------------
   last_name first_name   birthday gender type state                party
8        Few    William 1748-06-08      M  sen    GA  Anti-Administration
20   Mathews     George 1739-08-30      M  rep    GA                  NaN

First2 entries for 'GU'
----------------------
      last_name first_name   birthday gender type state       party
10704   Won Pat    Antonio 1908-12-10      M  rep    GU    Democrat
10874      Blaz        Ben 1928-02-14      M  rep    GU  Republican

First2 entries for 'HI'
----------------------
     last_name first_name   birthday gender type state       party
6395    Wilcox     Robert 1855-02-15      M  rep    HI         NaN
7524   Baldwin      Henry 1871-01-12      M  rep    HI  Republican

First2 entries for 'IA'
----------------------
     last_name first_name   birthday gender type state     party
1931   Chapman    William 1808-08-11      M  rep    IA  Democrat
2391  Hastings   Serranus 1813-11-22      M  rep    IA  Democrat

First2 entries for 'ID'
----------------------
     last_name first_name   birthday gender type state       party
3693   Wallace    William 1811-07-19      M  rep    ID  Republican
3846  Holbrook     Edward 1836-05-06      M  rep    ID    Democrat

First2 entries for 'IL'
----------------------
      last_name first_name   birthday gender type state party
595        Bond   Shadrack 1773-11-24      M  rep    IL   NaN
772  Stephenson   Benjamin        NaT      M  rep    IL   NaN

First2 entries for 'IN'
----------------------
    last_name first_name   birthday gender type state       party
431     Parke   Benjamin 1777-09-22      M  rep    IN         NaN
985    Taylor     Waller        NaT      M  sen    IN  Republican

First2 entries for 'KS'
----------------------
      last_name first_name   birthday gender type state       party
3163  Whitfield       John 1818-03-11      M  rep    KS    Democrat
3422    Parrott     Marcus 1828-10-27      M  rep    KS  Republican

First2 entries for 'KY'
----------------------
    last_name   first_name birthday gender type state                party
55    Edwards         John      NaT      M  sen    KY  Anti-Administration
113   Greenup  Christopher      NaT      M  rep    KY           Republican

First2 entries for 'LA'
----------------------
     last_name first_name birthday gender type state       party
584  Destréhan       Jean      NaT      M  sen    LA     Unknown
585   Magruder      Allan      NaT      M  sen    LA  Republican

First2 entries for 'MA'
----------------------
   last_name first_name   birthday gender type state               party
6     Dalton   Tristram 1738-05-28      M  sen    MA  Pro-Administration
12     Grout   Jonathan 1737-07-23      M  rep    MA                 NaN

First2 entries for 'MD'
----------------------
  last_name first_name   birthday gender type state party
3   Carroll     Daniel 1730-07-22      M  rep    MD   NaN
5    Contee   Benjamin        NaT      M  rep    MD   NaN

First2 entries for 'ME'
----------------------
     last_name first_name   birthday gender type state       party
1019      Dane     Joseph 1778-10-25      M  rep    ME  Federalist
1029    Harris       Mark 1779-01-27      M  rep    ME  Republican

First2 entries for 'MI'
----------------------
     last_name first_name   birthday gender type state party
1062    Sibley    Solomon 1769-10-07      M  rep    MI   NaN
1133   Richard    Gabriel 1767-10-15      M  rep    MI   NaN

First2 entries for 'MN'
----------------------
      last_name first_name   birthday gender type state     party
2866     Sibley      Henry 1811-02-20      M  rep    MN       NaN
3241  Kingsbury    William 1828-06-04      M  rep    MN  Democrat

First2 entries for 'MO'
----------------------
     last_name first_name   birthday gender type state party
627  Hempstead     Edward 1780-06-03      M  rep    MO   NaN
712     Easton      Rufus 1774-05-04      M  rep    MO   NaN

First2 entries for 'MS'
----------------------
    last_name  first_name   birthday gender type state party
256    Greene      Thomas 1758-02-26      M  rep    MS   NaN
260    Hunter  Narsworthy        NaT      M  rep    MS   NaN

First2 entries for 'MT'
----------------------
      last_name first_name   birthday gender type state     party
3756     McLean     Samuel 1826-08-07      M  rep    MT  Democrat
3941  Cavanaugh      James 1823-07-04      M  rep    MT  Democrat

First2 entries for 'NC'
----------------------
   last_name first_name   birthday gender type state               party
13   Hawkins   Benjamin 1754-08-15      M  sen    NC  Pro-Administration
17  Johnston     Samuel 1733-12-15      M  sen    NC  Pro-Administration

First2 entries for 'ND'
----------------------
     last_name first_name   birthday gender type state       party
5384     Casey      Lyman 1837-05-06      M  sen    ND  Republican
5479    Pierce    Gilbert 1839-01-11      M  sen    ND  Republican

First2 entries for 'NE'
----------------------
     last_name first_name   birthday gender type state     party
2954  Giddings   Napoleon 1816-01-02      M  rep    NE  Democrat
3068   Chapman       Bird 1821-08-24      M  rep    NE  Democrat

First2 entries for 'NH'
----------------------
    last_name first_name   birthday gender type state       party
99    Wingate      Paine 1739-05-14      M  rep    NH         NaN
120   Langdon       John 1741-06-26      M  sen    NH  Republican

First2 entries for 'NJ'
----------------------
   last_name first_name   birthday gender type state               party
7      Elmer   Jonathan 1745-11-29      M  sen    NJ  Pro-Administration
23  Paterson    William 1745-12-24      M  sen    NJ  Pro-Administration

First2 entries for 'NM'
----------------------
      last_name first_name   birthday gender type state     party
2885  Weightman    Richard 1816-12-28      M  rep    NM  Democrat
3420      Otero     Miguel 1829-06-21      M  rep    NM       NaN

First2 entries for 'NV'
----------------------
        last_name first_name   birthday gender type state       party
3510  Cradlebaugh       John 1819-02-22      M  rep    NV         NaN
3664         Mott     Gordon 1812-10-21      M  rep    NV  Republican

First2 entries for 'NY'
----------------------
         last_name first_name   birthday gender type state party
9            Floyd    William 1734-12-17      M  rep    NY   NaN
26  Van Rensselaer   Jeremiah 1738-08-27      M  rep    NY   NaN

First2 entries for 'OH'
----------------------
    last_name first_name   birthday gender type state       party
226  McMillan    William 1764-03-02      M  rep    OH         NaN
254   Fearing       Paul 1762-02-28      M  rep    OH  Federalist

First2 entries for 'OK'
----------------------
     last_name first_name   birthday gender type state        party
5601    Harvey      David 1845-03-20      M  rep    OK   Republican
6060  Callahan      James 1852-12-19      M  rep    OK  Free Silver

First2 entries for 'OL'
----------------------
    last_name first_name   birthday gender type state party
404     Clark     Daniel        NaT      M  rep    OL   NaN
503   Poydras     Julien 1740-04-03      M  rep    OL   NaN

First2 entries for 'OR'
----------------------
     last_name first_name   birthday gender type state     party
2728  Thurston     Samuel 1816-04-15      M  rep    OR  Democrat
3398      Lane     Joseph 1801-12-14      M  sen    OR  Democrat

First2 entries for 'PA'
----------------------
   last_name first_name   birthday gender type state                party
4     Clymer     George 1739-03-16      M  rep    PA                  NaN
19    Maclay    William 1737-07-20      M  sen    PA  Anti-Administration

First2 entries for 'PI'
----------------------
             last_name first_name   birthday gender type state party
6835            Ocampo      Pablo 1853-01-25      M  rep    PI   NaN
6939  Legarda Y Tuason     Benito 1853-09-27      M  rep    PI   NaN

First2 entries for 'PR'
----------------------
      last_name first_name   birthday gender type state       party
6426    Degetau   Federico 1862-12-05      M  rep    PR  Republican
6811  Larrinaga      Tulio 1847-01-15      M  rep    PR    Unionist

First2 entries for 'RI'
----------------------
    last_name first_name   birthday gender type state       party
61   Bradford    William 1729-11-04      M  sen    RI  Federalist
105    Bourne   Benjamin 1755-09-09      M  rep    RI  Federalist

First2 entries for 'SC'
----------------------
   last_name first_name   birthday gender type state               party
2      Burke    Aedanus 1743-06-16      M  rep    SC                 NaN
15     Izard      Ralph        NaT      M  sen    SC  Pro-Administration

First2 entries for 'SD'
----------------------
     last_name first_name   birthday gender type state       party
5423   Gifford      Oscar 1842-10-20      M  rep    SD  Republican
5462     Moody     Gideon 1832-10-16      M  sen    SD  Republican

First2 entries for 'TN'
----------------------
    last_name first_name   birthday gender type state       party
141     White      James 1749-06-16      M  rep    TN         NaN
142    Blount    William 1749-03-26      M  sen    TN  Republican

First2 entries for 'TX'
----------------------
     last_name first_name   birthday gender type state     party
2568  Pilsbury    Timothy 1789-04-12      M  rep    TX  Democrat
2671   Kaufman      David 1813-12-18      M  rep    TX  Democrat

First2 entries for 'UT'
----------------------
      last_name first_name   birthday gender type state     party
3484  Bernhisel       John 1799-07-23      M  rep    UT      Whig
3647     Kinney       John 1816-04-02      M  rep    UT  Democrat

First2 entries for 'VA'
----------------------
   last_name  first_name   birthday gender type state                party
1      Bland  Theodorick 1742-03-21      M  rep    VA                  NaN
11   Grayson     William        NaT      M  sen    VA  Anti-Administration

First2 entries for 'VI'
----------------------
      last_name first_name   birthday gender type state       party
10496     Evans     Melvin 1917-08-07      M  rep    VI  Republican
11088   de Lugo        Ron 1930-08-02      M  rep    VI    Democrat

First2 entries for 'VT'
----------------------
   last_name first_name   birthday gender type state                party
41  Robinson      Moses 1741-03-22      M  sen    VT  Anti-Administration
86     Niles  Nathaniel 1741-04-03      M  rep    VT                  NaN

First2 entries for 'WA'
----------------------
      last_name first_name   birthday gender type state     party
2979  Lancaster   Columbia 1803-08-26      M  rep    WA  Democrat
3052   Anderson      James 1822-02-16      M  rep    WA  Democrat

First2 entries for 'WI'
----------------------
     last_name first_name   birthday gender type state     party
2410    Martin     Morgan 1805-03-31      M  rep    WI  Democrat
2503   Darling      Mason 1801-05-18      M  rep    WI  Democrat

First2 entries for 'WV'
----------------------
       last_name first_name   birthday gender type state  \
3615       Blair      Jacob 1821-04-11      M  rep    WV   
3690  Van Winkle      Peter 1808-09-07      M  sen    WV   

                       party  
3615  Unconditional Unionist  
3690              Republican  

First2 entries for 'WY'
----------------------
     last_name first_name   birthday gender type state       party
4009  Nuckolls    Stephen 1825-08-16      M  rep    WY    Democrat
4138     Jones    William 1842-02-20      M  rep    WY  Republican
</code></pre>
</div>
</div>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>by_state.groups[<span class="st">'AK'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="15">
<pre><code>Index([ 6619,  6647,  7442,  7501,  8039,  8236,  8877,  9819,  9951,  9985,
       10082, 10108, 10325, 11262, 11386, 11734],
      dtype='int64')</code></pre>
</div>
</div>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>by_state.get_group(<span class="st">'AK'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">last_name</th>
<th data-quarto-table-cell-role="th">first_name</th>
<th data-quarto-table-cell-role="th">birthday</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">party</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">6619</td>
<td>Waskey</td>
<td>Frank</td>
<td>1875-04-20</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>Democrat</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6647</td>
<td>Cale</td>
<td>Thomas</td>
<td>1848-09-17</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>Independent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7442</td>
<td>Grigsby</td>
<td>George</td>
<td>1874-12-02</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7501</td>
<td>Sulzer</td>
<td>Charles</td>
<td>1879-02-24</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8039</td>
<td>Sutherland</td>
<td>Daniel</td>
<td>1869-04-17</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>Republican</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8236</td>
<td>Wickersham</td>
<td>James</td>
<td>1857-08-24</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>Republican</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8877</td>
<td>Dimond</td>
<td>Anthony</td>
<td>1881-11-30</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>Democrat</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9819</td>
<td>Gruening</td>
<td>Ernest</td>
<td>1887-02-06</td>
<td>M</td>
<td>sen</td>
<td>AK</td>
<td>Democrat</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9951</td>
<td>Rivers</td>
<td>Ralph</td>
<td>1903-05-23</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>Democrat</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9985</td>
<td>Bartlett</td>
<td>Edward</td>
<td>1904-04-20</td>
<td>M</td>
<td>sen</td>
<td>AK</td>
<td>Democrat</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10082</td>
<td>Pollock</td>
<td>Howard</td>
<td>1920-04-11</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>Republican</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10108</td>
<td>Begich</td>
<td>Nicholas</td>
<td>1932-04-06</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>Democrat</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10325</td>
<td>Gravel</td>
<td>Maurice</td>
<td>1930-05-13</td>
<td>M</td>
<td>sen</td>
<td>AK</td>
<td>Democrat</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11262</td>
<td>Murkowski</td>
<td>Frank</td>
<td>1933-03-28</td>
<td>M</td>
<td>sen</td>
<td>AK</td>
<td>Republican</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11386</td>
<td>Stevens</td>
<td>Ted</td>
<td>1923-11-18</td>
<td>M</td>
<td>sen</td>
<td>AK</td>
<td>Republican</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11734</td>
<td>Begich</td>
<td>Mark</td>
<td>1962-03-30</td>
<td>M</td>
<td>sen</td>
<td>AK</td>
<td>Democrat</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(by_state.get_group(<span class="st">'AK'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>pandas.core.frame.DataFrame</code></pre>
</div>
</div>
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>state, frame <span class="op">=</span> <span class="bu">next</span>(<span class="bu">iter</span>(by_state))</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>state</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>'AK'</code></pre>
</div>
</div>
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>frame</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">last_name</th>
<th data-quarto-table-cell-role="th">first_name</th>
<th data-quarto-table-cell-role="th">birthday</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">party</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">6619</td>
<td>Waskey</td>
<td>Frank</td>
<td>1875-04-20</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>Democrat</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">6647</td>
<td>Cale</td>
<td>Thomas</td>
<td>1848-09-17</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>Independent</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">7442</td>
<td>Grigsby</td>
<td>George</td>
<td>1874-12-02</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7501</td>
<td>Sulzer</td>
<td>Charles</td>
<td>1879-02-24</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8039</td>
<td>Sutherland</td>
<td>Daniel</td>
<td>1869-04-17</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>Republican</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">8236</td>
<td>Wickersham</td>
<td>James</td>
<td>1857-08-24</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>Republican</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8877</td>
<td>Dimond</td>
<td>Anthony</td>
<td>1881-11-30</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>Democrat</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9819</td>
<td>Gruening</td>
<td>Ernest</td>
<td>1887-02-06</td>
<td>M</td>
<td>sen</td>
<td>AK</td>
<td>Democrat</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9951</td>
<td>Rivers</td>
<td>Ralph</td>
<td>1903-05-23</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>Democrat</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9985</td>
<td>Bartlett</td>
<td>Edward</td>
<td>1904-04-20</td>
<td>M</td>
<td>sen</td>
<td>AK</td>
<td>Democrat</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10082</td>
<td>Pollock</td>
<td>Howard</td>
<td>1920-04-11</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>Republican</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">10108</td>
<td>Begich</td>
<td>Nicholas</td>
<td>1932-04-06</td>
<td>M</td>
<td>rep</td>
<td>AK</td>
<td>Democrat</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10325</td>
<td>Gravel</td>
<td>Maurice</td>
<td>1930-05-13</td>
<td>M</td>
<td>sen</td>
<td>AK</td>
<td>Democrat</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11262</td>
<td>Murkowski</td>
<td>Frank</td>
<td>1933-03-28</td>
<td>M</td>
<td>sen</td>
<td>AK</td>
<td>Republican</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">11386</td>
<td>Stevens</td>
<td>Ted</td>
<td>1923-11-18</td>
<td>M</td>
<td>sen</td>
<td>AK</td>
<td>Republican</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11734</td>
<td>Begich</td>
<td>Mark</td>
<td>1962-03-30</td>
<td>M</td>
<td>sen</td>
<td>AK</td>
<td>Democrat</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="bu">next</span>(<span class="bu">iter</span>(<span class="bu">range</span>(<span class="dv">3</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>0</code></pre>
</div>
</div>
<div class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"./data/airqual.csv"</span>,</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    parse_dates<span class="op">=</span>[[<span class="st">"Date"</span>, <span class="st">"Time"</span>]],</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    na_values<span class="op">=</span>[<span class="op">-</span><span class="dv">200</span>],</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    usecols<span class="op">=</span>[<span class="st">"Date"</span>, <span class="st">"Time"</span>, <span class="st">"CO(GT)"</span>, <span class="st">"T"</span>, <span class="st">"RH"</span>, <span class="st">"AH"</span>]</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>).rename(</span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span>{</span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"CO(GT)"</span>: <span class="st">"co"</span>,</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Date_Time"</span>: <span class="st">"tstamp"</span>,</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"T"</span>: <span class="st">"temp_c"</span>,</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">"RH"</span>: <span class="st">"rel_hum"</span>,</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"AH"</span>: <span class="st">"abs_hum"</span>,</span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>).set_index(<span class="st">"tstamp"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/tmp/ipykernel_7775/1231662992.py:1: UserWarning: Could not infer format, so each element will be parsed individually, falling back to `dateutil`. To ensure parsing is consistent and as-expected, please specify a format.
  df = pd.read_csv(</code></pre>
</div>
</div>
<div class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">co</th>
<th data-quarto-table-cell-role="th">temp_c</th>
<th data-quarto-table-cell-role="th">rel_hum</th>
<th data-quarto-table-cell-role="th">abs_hum</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">tstamp</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2004-03-10 18:00:00</td>
<td>2.6</td>
<td>13.6</td>
<td>48.9</td>
<td>0.7578</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2004-03-10 19:00:00</td>
<td>2.0</td>
<td>13.3</td>
<td>47.7</td>
<td>0.7255</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2004-03-10 20:00:00</td>
<td>2.2</td>
<td>11.9</td>
<td>54.0</td>
<td>0.7502</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2004-03-10 21:00:00</td>
<td>2.2</td>
<td>11.0</td>
<td>60.0</td>
<td>0.7867</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2004-03-10 22:00:00</td>
<td>1.6</td>
<td>11.2</td>
<td>59.6</td>
<td>0.7888</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2005-04-04 10:00:00</td>
<td>3.1</td>
<td>21.9</td>
<td>29.3</td>
<td>0.7568</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2005-04-04 11:00:00</td>
<td>2.4</td>
<td>24.3</td>
<td>23.7</td>
<td>0.7119</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2005-04-04 12:00:00</td>
<td>2.4</td>
<td>26.9</td>
<td>18.3</td>
<td>0.6406</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2005-04-04 13:00:00</td>
<td>2.1</td>
<td>28.3</td>
<td>13.5</td>
<td>0.5139</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2005-04-04 14:00:00</td>
<td>2.2</td>
<td>28.5</td>
<td>13.1</td>
<td>0.5028</td>
</tr>
</tbody>
</table>

<p>9357 rows × 4 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>df.index.<span class="bu">min</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<pre><code>Timestamp('2004-03-10 18:00:00')</code></pre>
</div>
</div>
<div class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>df.index.day_name()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<pre><code>Index(['Wednesday', 'Wednesday', 'Wednesday', 'Wednesday', 'Wednesday',
       'Wednesday', 'Thursday', 'Thursday', 'Thursday', 'Thursday',
       ...
       'Monday', 'Monday', 'Monday', 'Monday', 'Monday', 'Monday', 'Monday',
       'Monday', 'Monday', 'Monday'],
      dtype='object', name='tstamp', length=9357)</code></pre>
</div>
</div>
<div class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df.groupby(df.index.day_name())[<span class="st">'co'</span>].mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<pre><code>tstamp
Friday       2.543041
Monday       2.016741
Saturday     1.861077
Sunday       1.438069
Thursday     2.455505
Tuesday      2.382267
Wednesday    2.400787
Name: co, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>df.groupby([df.index.day_name(),</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>            df.index.hour])[<span class="st">'co'</span>].mean()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>tstamp     tstamp
Friday     0         1.936170
           1         1.608511
           2         1.172340
           3         0.887234
           4         0.823333
                       ...   
Wednesday  19        4.146809
           20        3.844681
           21        2.897872
           22        2.102128
           23        1.938298
Name: co, Length: 168, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">co</th>
<th data-quarto-table-cell-role="th">temp_c</th>
<th data-quarto-table-cell-role="th">rel_hum</th>
<th data-quarto-table-cell-role="th">abs_hum</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">tstamp</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2004-03-10 18:00:00</td>
<td>2.6</td>
<td>13.6</td>
<td>48.9</td>
<td>0.7578</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2004-03-10 19:00:00</td>
<td>2.0</td>
<td>13.3</td>
<td>47.7</td>
<td>0.7255</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2004-03-10 20:00:00</td>
<td>2.2</td>
<td>11.9</td>
<td>54.0</td>
<td>0.7502</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2004-03-10 21:00:00</td>
<td>2.2</td>
<td>11.0</td>
<td>60.0</td>
<td>0.7867</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2004-03-10 22:00:00</td>
<td>1.6</td>
<td>11.2</td>
<td>59.6</td>
<td>0.7888</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2005-04-04 10:00:00</td>
<td>3.1</td>
<td>21.9</td>
<td>29.3</td>
<td>0.7568</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2005-04-04 11:00:00</td>
<td>2.4</td>
<td>24.3</td>
<td>23.7</td>
<td>0.7119</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2005-04-04 12:00:00</td>
<td>2.4</td>
<td>26.9</td>
<td>18.3</td>
<td>0.6406</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2005-04-04 13:00:00</td>
<td>2.1</td>
<td>28.3</td>
<td>13.5</td>
<td>0.5139</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2005-04-04 14:00:00</td>
<td>2.2</td>
<td>28.5</td>
<td>13.1</td>
<td>0.5028</td>
</tr>
</tbody>
</table>

<p>9357 rows × 4 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>bins <span class="op">=</span> pd.cut(df[<span class="st">'temp_c'</span>], bins<span class="op">=</span><span class="dv">3</span>, labels<span class="op">=</span>(<span class="st">'cool'</span>, <span class="st">'warm'</span>, <span class="st">'hot'</span>))</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>df[[<span class="st">'rel_hum'</span>, <span class="st">'abs_hum'</span>]].groupby(bins).agg([<span class="st">'mean'</span>, <span class="st">'median'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th colspan="2" data-quarto-table-cell-role="th" data-halign="left">rel_hum</th>
<th colspan="2" data-quarto-table-cell-role="th" data-halign="left">abs_hum</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">median</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">median</th>
</tr>
<tr class="header">
<th data-quarto-table-cell-role="th">temp_c</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">cool</td>
<td>57.651452</td>
<td>59.2</td>
<td>0.665874</td>
<td>0.6581</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">warm</td>
<td>49.382716</td>
<td>49.3</td>
<td>1.182894</td>
<td>1.1452</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">hot</td>
<td>24.994334</td>
<td>24.1</td>
<td>1.292958</td>
<td>1.2742</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>bins</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<pre><code>tstamp
2004-03-10 18:00:00    cool
2004-03-10 19:00:00    cool
2004-03-10 20:00:00    cool
2004-03-10 21:00:00    cool
2004-03-10 22:00:00    cool
                       ... 
2005-04-04 10:00:00    warm
2005-04-04 11:00:00    warm
2005-04-04 12:00:00    warm
2005-04-04 13:00:00    warm
2005-04-04 14:00:00    warm
Name: temp_c, Length: 9357, dtype: category
Categories (3, object): ['cool' &lt; 'warm' &lt; 'hot']</code></pre>
</div>
</div>
<div class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>bins.tolist()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<pre><code>['cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'hot',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 nan,
 nan,
 nan,
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 nan,
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'warm',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'cool',
 'warm',
 'warm',
 ...]</code></pre>
</div>
</div>
<div class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>df.groupby([df.index.year, df.index.quarter])[<span class="st">'co'</span>].agg(</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'max'</span>, <span class="st">'min'</span>]</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="39">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">max</th>
<th data-quarto-table-cell-role="th">min</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">tstamp</th>
<th data-quarto-table-cell-role="th">tstamp</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td rowspan="4" data-quarto-table-cell-role="th" data-valign="top">2004</td>
<td data-quarto-table-cell-role="th">1</td>
<td>8.1</td>
<td>0.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>7.3</td>
<td>0.1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>7.5</td>
<td>0.1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>11.9</td>
<td>0.1</td>
</tr>
<tr class="odd">
<td rowspan="2" data-quarto-table-cell-role="th" data-valign="top">2005</td>
<td data-quarto-table-cell-role="th">1</td>
<td>8.7</td>
<td>0.1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>5.0</td>
<td>0.3</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>df.resample(<span class="st">'Q'</span>)[<span class="st">'co'</span>].agg([<span class="st">'max'</span>, <span class="st">'min'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">max</th>
<th data-quarto-table-cell-role="th">min</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">tstamp</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">2004-03-31</td>
<td>8.1</td>
<td>0.3</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2004-06-30</td>
<td>7.3</td>
<td>0.1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2004-09-30</td>
<td>7.5</td>
<td>0.1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2004-12-31</td>
<td>11.9</td>
<td>0.1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2005-03-31</td>
<td>8.7</td>
<td>0.1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2005-06-30</td>
<td>5.0</td>
<td>0.3</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> parse_millisecond_timestamp(ts):</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""Convert ms since Unix epoch to UTC datetime instance."""</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.to_datetime(ts, unit<span class="op">=</span><span class="st">"ms"</span>)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"./data/news.csv"</span>,</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>    sep<span class="op">=</span><span class="st">"</span><span class="ch">\t</span><span class="st">"</span>,</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>    header<span class="op">=</span><span class="va">None</span>,</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    index_col<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    names<span class="op">=</span>[<span class="st">"title"</span>, <span class="st">"url"</span>, <span class="st">"outlet"</span>, <span class="st">"category"</span>, <span class="st">"cluster"</span>, <span class="st">"host"</span>, <span class="st">"tstamp"</span>],</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>    parse_dates<span class="op">=</span>[<span class="st">"tstamp"</span>],</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    date_parser<span class="op">=</span>parse_millisecond_timestamp,</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    dtype<span class="op">=</span>{</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"outlet"</span>: <span class="st">"category"</span>,</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">"category"</span>: <span class="st">"category"</span>,</span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a>        <span class="st">"cluster"</span>: <span class="st">"category"</span>,</span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a>        <span class="st">"host"</span>: <span class="st">"category"</span>,</span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/tmp/ipykernel_7775/4270963077.py:5: FutureWarning: The argument 'date_parser' is deprecated and will be removed in a future version. Please use 'date_format' instead, or read your data in as 'object' dtype and then call 'to_datetime'.
  df = pd.read_csv(</code></pre>
</div>
</div>
<div class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">title</th>
<th data-quarto-table-cell-role="th">url</th>
<th data-quarto-table-cell-role="th">outlet</th>
<th data-quarto-table-cell-role="th">category</th>
<th data-quarto-table-cell-role="th">cluster</th>
<th data-quarto-table-cell-role="th">host</th>
<th data-quarto-table-cell-role="th">tstamp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1</td>
<td>Fed official says weak data caused by weather,...</td>
<td>http://www.latimes.com/business/money/la-fi-mo...</td>
<td>Los Angeles Times</td>
<td>b</td>
<td>ddUyU0VZz0BRneMioxUPQVP6sIxvM</td>
<td>www.latimes.com</td>
<td>2014-03-10 16:52:50.698</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">2</td>
<td>Fed's Charles Plosser sees high bar for change...</td>
<td>http://www.livemint.com/Politics/H2EvwJSK2VE6O...</td>
<td>Livemint</td>
<td>b</td>
<td>ddUyU0VZz0BRneMioxUPQVP6sIxvM</td>
<td>www.livemint.com</td>
<td>2014-03-10 16:52:51.207</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>US open: Stocks fall after Fed official hints ...</td>
<td>http://www.ifamagazine.com/news/us-open-stocks...</td>
<td>IFA Magazine</td>
<td>b</td>
<td>ddUyU0VZz0BRneMioxUPQVP6sIxvM</td>
<td>www.ifamagazine.com</td>
<td>2014-03-10 16:52:51.550</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>Fed risks falling 'behind the curve', Charles ...</td>
<td>http://www.ifamagazine.com/news/fed-risks-fall...</td>
<td>IFA Magazine</td>
<td>b</td>
<td>ddUyU0VZz0BRneMioxUPQVP6sIxvM</td>
<td>www.ifamagazine.com</td>
<td>2014-03-10 16:52:51.793</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">5</td>
<td>Fed's Plosser: Nasty Weather Has Curbed Job Gr...</td>
<td>http://www.moneynews.com/Economy/federal-reser...</td>
<td>Moneynews</td>
<td>b</td>
<td>ddUyU0VZz0BRneMioxUPQVP6sIxvM</td>
<td>www.moneynews.com</td>
<td>2014-03-10 16:52:52.027</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">422933</td>
<td>Surgeons to remove 4-year-old's rib to rebuild...</td>
<td>http://www.cbs3springfield.com/story/26378648/...</td>
<td>WSHM-TV</td>
<td>m</td>
<td>dpcLMoJD69UYMXMxaoEFnWql9YjQM</td>
<td>www.cbs3springfield.com</td>
<td>2014-08-28 12:33:10.251</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">422934</td>
<td>Boy to have surgery on esophagus after battery...</td>
<td>http://www.wlwt.com/news/boy-to-have-surgery-o...</td>
<td>WLWT Cincinnati</td>
<td>m</td>
<td>dpcLMoJD69UYMXMxaoEFnWql9YjQM</td>
<td>www.wlwt.com</td>
<td>2014-08-28 12:33:10.508</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">422935</td>
<td>Child who swallowed battery to have reconstruc...</td>
<td>http://www.newsnet5.com/news/local-news/child-...</td>
<td>NewsNet5.com</td>
<td>m</td>
<td>dpcLMoJD69UYMXMxaoEFnWql9YjQM</td>
<td>www.newsnet5.com</td>
<td>2014-08-28 12:33:10.771</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">422936</td>
<td>Phoenix boy undergoes surgery to repair throat...</td>
<td>http://www.wfsb.com/story/26368078/phoenix-boy...</td>
<td>WFSB</td>
<td>m</td>
<td>dpcLMoJD69UYMXMxaoEFnWql9YjQM</td>
<td>www.wfsb.com</td>
<td>2014-08-28 12:33:11.071</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">422937</td>
<td>Phoenix boy undergoes surgery to repair throat...</td>
<td>http://www.cbs3springfield.com/story/26368078/...</td>
<td>WSHM-TV</td>
<td>m</td>
<td>dpcLMoJD69UYMXMxaoEFnWql9YjQM</td>
<td>www.cbs3springfield.com</td>
<td>2014-08-28 12:33:11.565</td>
</tr>
</tbody>
</table>

<p>422419 rows × 7 columns</p>
</div>
</div>
</div>
<div class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>df.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="46">
<pre><code>Index(['title', 'url', 'outlet', 'category', 'cluster', 'host', 'tstamp'], dtype='object')</code></pre>
</div>
</div>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>